## 2.3文件传输协议：FTP

传输过程：

* 用户向FTP用户代理提供远程主机的主机名
* FTP用户代理向远程主机文件系统发起TCP连接
* 用户接着提供用户标识和口令，作为FTP命令的一部分在连接上传送
* 服务器向该用户授权（允许用户上传文件或下载文件）

#### FTP与HTTP的区别

> FTP使用了两个并行的TCP连接来传输文件，一个是**控制连接**，一个是**数据连接**。
>
> 控制连接用于两主机之间传输**控制信息**，例如：用户标识，口令，改变远程目录的命令以及“存放”和“获取”文件的命令。
>
> 数据连接用于实际发送一个文件。

* 由于FTP协议使用一个独立的控制连接，所以称控制信息是**带外连接**
* HTTP可以说是**带内**发送控制信息

注意：控制连接贯穿了整个用户会话期间，但对会话中的每一次文件传输都需要建立一个新的数据连接。

* HTTP是无状态的，服务器无需对用户状态进行追踪
* FTP服务器必须在整个会话期间保留用户的状态，追踪用户在远程目录树上的当前位置。

#### FTP命令和回答

> 命令与回答都是以7比特ASCII格式在控制连接上传送。每个命令由四个大写字母的ASCII字符组成，加可选参数，后跟回车换行符。



