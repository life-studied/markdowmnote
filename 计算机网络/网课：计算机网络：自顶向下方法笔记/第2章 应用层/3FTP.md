## FTP

> 文件传输协议

* 向远程主机上传输文件，或从远程主机上接收文件
* 客户端/服务器模式
	* 客户端：发起传输的一方
	* 服务器：远程主机
* ftp：RFC 959
* ftp服务器：端口号为21

#### 控制连接与数据分开

* FTP客户端与FTP服务器通过端口21联系，并使用FTP作为传输协议
* 客户端通过控制制造连接获得身份确认
* 客户端通过控制连接发送命令浏览远程目录
* 收到一个文件传输命令时，服务器打开一个到客户端的远程连接（通过连接用户的20端口发送数据）
* 一个文件传输完成后，服务器关闭连接
* 服务器打开第二个TCP数据连接用来传输另一个文件
* 控制连接：out of bound（带外，指不在原有的21号端口，而是开辟新的20号端口作为连接）传输
* FTP服务器维护用户连接的状态信息：当前路径，用户账户与控制连接对应。

#### 注意

* FTP是有状态的连接
* FTP将控制命令与数据传输分开在两个端口（连接）上传输

