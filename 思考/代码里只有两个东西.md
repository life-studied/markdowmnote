---
create: '2025-12-26'
modified: '2025-12-26'
---

# 代码里只有两个东西

代码里只有两个东西，一个是实体类，另一个是业务脚本。

实体类是我们需要存储一些状态，同时抽象出一个对象。而业务脚本就是胶水，负责执行一堆业务逻辑，有时候会需要在内部创建一些实体类来传递状态。

在C++中，业务脚本完全可以用面向过程的函数来做。不是什么都要面向对象的。

在它们之间，会有一个模糊的地带，也就是业务代码会存到一个类里。在业务代码的功能很散乱，那就可以完全用纯面向过程来做。除非你想要在业务代码上建立一个模型，让一些共识的东西按照你的模型来走。但是大部分时候没什么必要，因为业务变动往往是最快的，这样做反而会很麻烦。

尤其是在一些上层的system、manager这样的类里，完全可以直接用纯面向过程的语言来写，没必要抽象出这种顶层的东西，因为它们基本上是唯一的，是没有状态可言的，只是在执行一堆业务逻辑。

之所以有这些，还有一个原因是，需要上层有一个永生的对象，一层层持有下层对象，保证所有的对象都不会死，想要什么拿什么。

实际上全局对象就好了，如果担心污染全局，套一层命名空间就好了。

---

比如一个图书管理系统，我们只需要抽象出书和人，就够了，其它东西直接纯粹的面向过程写就完了。从开始，到加载数据，到显示界面，然后一个循环，不断和用户交互就完了。